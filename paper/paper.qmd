---
title: "Forecasting the 2024 US Presidential Election: A Poll-Based Approach"
subtitle: "My subtitle if needed"
author: 
  - Xinxiang Gao
  - Ariel Xing
  - John Zhang
thanks: "Code and data are available at: [https://github.com/xgao28/election_forecast](https://github.com/xgao28/election_forecast)."
date: today
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(skimr)
library(knitr)
library(GGally)
library(dplyr)
```


# Introduction

Overview paragraph

Estimand paragraph

Results paragraph

Why it matters paragraph

Telegraphing paragraph: The remainder of this paper is structured as follows. 

```{r}
#| echo: false
#| message: false
#| warning: false
#| include: false
data <- read.csv("../data/02-analysis_data/cleaned_president_polls.csv")
skim(data)
```


```{r pairplot}
#| warning: false
#| message: false
#| echo: false
numeric_data <- data %>% 
  select(where(is.numeric)) %>% 
  select(numeric_grade, pollscore, transparency_score) %>% 
  filter(complete.cases(.))


# Create a pair plot
ggpairs(numeric_data) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1, size = 8, margin = margin(t = 10)),
    axis.text.y = element_text(size = 8, margin = margin(r = 10)),
    strip.text = element_text(size = 6)  # Adjusts the size of variable name tags
  )
```









```{r}
#| echo: false
#| message: false
#| warning: false
```


## Predictor variables

Add graphs, tables and text.

Use sub-sub-headings for each outcome variable and feel free to combine a few into one if they go together naturally.


```{r}
#| echo: false
#| message: false
#| warning: false
candidate_names <- c("Kamala Harris", "Donald Trump")

# Define a function to fit the model and return the summary for each candidate
fit_model <- function(candidate) {
  candidate_data <- data %>%
    filter(candidate_name == candidate)
  
  model <- lm(pct ~ pollscore + transparency_score + days_towards_election, data = candidate_data)
  
  summary(model)
}

# Apply the function to each distinct candidate name and store the summaries in a list
model_summaries <- candidate_names %>%
  set_names() %>%
  map(fit_model)

# Print model summaries for each candidate
model_summaries
```





# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| message: false
#| warning: false
```

```{r}
#| echo: false
#| message: false
#| warning: false
```




# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

Please don't use these as sub-heading labels - change them to be what your point actually is.

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix
# Appendix {-}

# Pollster Methodology Overview and Evaluation: YouGov

YouGov is a global public opinion and data company that conducts online surveys on a variety of topics, including politics, social issues, and consumer behavior. Founded in 2000, YouGov is known for leveraging technology to conduct large-scale online surveys, combining traditional sampling principles with advanced data analytics to measure public opinion efficiently.

## Population, Frame, and Sample

- **Population**: The population refers to the group of individuals whose opinions YouGov aims to measure. For political surveys, this often includes eligible voters in a specific country (e.g., registered U.S. voters). Other surveys may focus on specific demographic groups, such as young adults or industry professionals.

- **Frame**: The frame is a list from which the sample is drawn. YouGov uses its online panel, consisting of millions of registered users worldwide. For specific surveys, the frame is the subset of panel members matching desired criteria (e.g., age, location).

- **Sample**: The sample is a subset of the population selected to participate in a survey. Political surveys often involve 1,000-3,000 respondents, weighted to match the demographic characteristics of the broader population.

## Sample Recruitment

- **Recruitment Process**: YouGov recruits panel members via online advertisements, partnerships, and social media. Individuals join the panel by registering on the YouGov website and completing a demographic profile.

- **Incentives**: Panel members earn rewards through a points-based system, which can be redeemed for cash, gift cards, or other benefits.

## Sampling Approach and Trade-offs

- **Sampling Method**: YouGov employs a non-probability sampling approach using quota sampling combined with statistical weighting. Respondents are selected to fill quotas based on demographics (age, gender, education, region) that align with the population.

- **Advantages of Quota Sampling**:
  - **Cost-effective**: Less expensive than random sampling due to online recruitment and automation.
  - **Speed**: Enables quick data collection, crucial for tracking fast-changing opinions.
  - **Targeted Sampling**: Can focus on hard-to-reach populations or specific demographics.

- **Limitations of Quota Sampling**:
  - **Selection Bias**: Self-selection into the panel may introduce biases, as panel members might differ from the general population (e.g., more engaged online).
  - **Generalizability Issues**: Weighting may not fully adjust for attitudinal differences between panelists and the public.

## Handling Non-Response

- **Mitigation Strategies**: YouGov reduces non-response bias with flexible survey completion times and reminder emails. Statistical weighting adjusts for demographic discrepancies caused by non-response.

- **Weighting**: Survey data are weighted to match demographic distributions (e.g., age, gender, race, education). Additional adjustments may be made for political affiliation or past voting behavior.

## Questionnaire Design

- **Strengths**:
  - **Clarity**: Questions are straightforward and easy to understand, reducing measurement error.
  - **Consistency**: Surveys follow a standardized format, ensuring consistency over time, important for tracking changes in opinion.

- **Weaknesses**:
  - **Limited Depth**: Online surveys may feature shorter questionnaires to avoid fatigue, limiting topic depth.
  - **Response Options**: The design of response options (e.g., including "Don't Know") can influence results, potentially leading to different conclusions.

## Evaluation of YouGov's Methodology

YouGov's methodology provides several strengths, such as cost, speed, and accessibility, making it suitable for political polling and market research. Online panels enable rapid data collection and targeted sampling. However, the reliance on non-probability sampling introduces biases. While weighting can mitigate some issues, it may not fully compensate for differences between panelists and the general population.

- **Strengths**:
  - **Efficient**: Cost-effective and quick data collection.
  - **Adaptable**: Can rapidly capture opinions on evolving issues.
  - **Targeted**: Capable of reaching niche demographics or regions.

- **Weaknesses**:
  - **Selection Bias**: Potential biases due to non-probability sampling.
  - **Non-Response Bias**: Some groups may be less likely to participate.
  - **Questionnaire Limitations**: Less depth compared to other survey methods.

Overall, YouGovâ€™s approach satisfies many standards for modern survey research. Although it has limitations, the insights gained are valuable when these are taken into account.

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| echo: false
#| message: false
#| warning: false
```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| message: false
#| warning: false
```



\newpage


# References


